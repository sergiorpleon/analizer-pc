# Diagrama de Arquitectura MVC

## Flujo de Peticiones

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                        USUARIO                               โ
โโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                       โ
                       โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                   .htaccess                                  โ
โ              (Reescritura de URLs)                           โ
โโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                       โ
                       โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ              public/index.php                                โ
โ            (Front Controller / Router)                       โ
โโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                       โ
        โโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโ
        โ              โ              โ
        โผ              โผ              โผ
โโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโ
โ     Home     โ โ    Search    โ โ     Data     โ
โ  Controller  โ โ  Controller  โ โ  Controller  โ
โโโโโโโโฌโโโโโโโโ โโโโโโโโฌโโโโโโโโ โโโโโโโโฌโโโโโโโโ
       โ                โ                โ
       โ    โโโโโโโโโโโโโดโโโโโโโโโโโโ    โ
       โ    โ                       โ    โ
       โผ    โผ                       โผ    โผ
โโโโโโโโโโโโโโโโโโโโ        โโโโโโโโโโโโโโโโโโโโ
โ     MODELS       โ        โ      MODELS      โ
โโโโโโโโโโโโโโโโโโโโค        โโโโโโโโโโโโโโโโโโโโค
โ  Database.php    โโโโโโโโโโค  Component.php   โ
โ  OllamaService   โ        โ                  โ
โโโโโโโโโโโโโโโโโโโโ        โโโโโโโโโโโโโโโโโโโโ
       โ                            โ
       โ                            โ
       โผ                            โผ
โโโโโโโโโโโโโโโโโโโโ        โโโโโโโโโโโโโโโโโโโโ
โ   PostgreSQL     โ        โ      Ollama      โ
โ   + pgvector     โ        โ     (llama3)     โ
โโโโโโโโโโโโโโโโโโโโ        โโโโโโโโโโโโโโโโโโโโ
       โ
       โ
       โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                        VIEWS                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  layouts/main.php  โ  home.php  โ  search.php               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
       โ
       โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    HTML Response                             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## Responsabilidades por Capa

### ๐ฎ Controllers (Controladores)
- Reciben las peticiones HTTP
- Coordinan entre Models y Views
- Manejan la lรณgica de negocio
- Preparan datos para las vistas

### ๐ฆ Models (Modelos)
- Acceso a datos (Database)
- Lรณgica de negocio de datos (Component)
- Servicios externos (OllamaService)
- Validaciรณn de datos

### ๐จ Views (Vistas)
- Presentaciรณn HTML
- No contienen lรณgica de negocio
- Reciben datos preparados de los controladores
- Layouts reutilizables

## Rutas Disponibles

| Ruta | Controlador | Mรฉtodo | Descripciรณn |
|------|-------------|--------|-------------|
| `/` | HomeController | index() | Pรกgina principal con tests |
| `/search` | SearchController | index() | Buscador de componentes |
| `/data?key=12345` | DataController | import() | Importaciรณn de datos |

## Ventajas de esta Arquitectura

1. **Separaciรณn de Responsabilidades**: Cada componente tiene una funciรณn clara
2. **Mantenibilidad**: Cรณdigo organizado y fรกcil de modificar
3. **Reutilizaciรณn**: Los modelos pueden usarse en diferentes controladores
4. **Testabilidad**: Fรกcil escribir tests unitarios para cada capa
5. **Escalabilidad**: Agregar nuevas funcionalidades es sencillo
6. **Seguridad**: Front Controller centraliza el control de acceso
